{
  "issues": [
    {
      "severity": "high",
      "category": "database_setup",
      "message": "mysql_secure_installation avec heredoc peut échouer",
      "fix_suggestion": "Remplacer par une configuration manuelle avec expect ou mysql direct"
    },
    {
      "severity": "critical",
      "category": "database_setup",
      "message": "mysql -u root -p va demander un mot de passe interactif",
      "fix_suggestion": "Utiliser mysql -u root (sans -p) ou configurer le mot de passe"
    },
    {
      "severity": "high",
      "category": "ssl_config",
      "message": "Génération automatique SSL sans vérification DNS",
      "fix_suggestion": "Vérifier que le domaine pointe vers le serveur avant certbot"
    },
    {
      "severity": "high",
      "category": "dependencies",
      "message": "Dépendance manquante: python3-pip",
      "fix_suggestion": "Installer avec: sudo apt install python3-pip"
    },
    {
      "severity": "high",
      "category": "dependencies",
      "message": "Dépendance manquante: python3-venv",
      "fix_suggestion": "Installer avec: sudo apt install python3-venv"
    },
    {
      "severity": "high",
      "category": "dependencies",
      "message": "Dépendance manquante: nginx",
      "fix_suggestion": "Installer avec: sudo apt install nginx"
    },
    {
      "severity": "high",
      "category": "dependencies",
      "message": "Dépendance manquante: supervisor",
      "fix_suggestion": "Installer avec: sudo apt install supervisor"
    },
    {
      "severity": "high",
      "category": "dependencies",
      "message": "Dépendance manquante: certbot",
      "fix_suggestion": "Installer avec: sudo apt install certbot"
    }
  ],
  "warnings": [
    {
      "severity": "medium",
      "category": "configuration",
      "message": "Domaine hardcodé dans le script",
      "fix_suggestion": "Rendre le domaine configurable via paramètre ou input utilisateur"
    },
    {
      "severity": "medium",
      "category": "configuration",
      "message": "Email hardcodé pour certificat SSL",
      "fix_suggestion": "Rendre l'email configurable pour les certificats SSL"
    },
    {
      "severity": "medium",
      "category": "dependencies",
      "message": "Installation packages sans vérification de disponibilité",
      "fix_suggestion": "Vérifier la disponibilité des packages avant installation"
    },
    {
      "severity": "medium",
      "category": "validation",
      "message": "Pas de vérification de la version Ubuntu",
      "fix_suggestion": "Vérifier que le système est bien Ubuntu 24.04 avant installation"
    },
    {
      "severity": "low",
      "category": "security",
      "message": "Mot de passe MariaDB visible dans les processus",
      "fix_suggestion": "Utiliser un fichier de configuration MySQL ou variable d'environnement"
    },
    {
      "severity": "medium",
      "category": "network_test",
      "message": "Test HTTPS sans vérification DNS préalable",
      "fix_suggestion": "Vérifier la résolution DNS avant le test HTTPS"
    },
    {
      "severity": "medium",
      "category": "configuration",
      "message": "Domaine hardcodé dans le script de validation",
      "fix_suggestion": "Paramétrer le domaine à tester"
    },
    {
      "severity": "medium",
      "category": "documentation",
      "message": "Guide mentionne mysql_secure_installation qui peut poser problème",
      "fix_suggestion": "Documenter les alternatives pour la sécurisation MariaDB"
    },
    {
      "severity": "low",
      "category": "documentation",
      "message": "URL GitHub spécifique dans le guide",
      "fix_suggestion": "Vérifier que l'URL GitHub est accessible et à jour"
    },
    {
      "severity": "medium",
      "category": "system_check",
      "message": "Version Ubuntu: 12 (attendu: 24.04)",
      "fix_suggestion": "Tester sur Ubuntu 24.04 LTS"
    },
    {
      "severity": "low",
      "category": "network_check",
      "message": "Impossible de tester la connexion réseau",
      "fix_suggestion": "Vérifier manuellement la connexion internet"
    },
    {
      "severity": "medium",
      "category": "port_conflict",
      "message": "Port 80 déjà utilisé",
      "fix_suggestion": "Arrêter le service utilisant le port 80 ou modifier la configuration"
    },
    {
      "severity": "medium",
      "category": "port_conflict",
      "message": "Port 3000 déjà utilisé",
      "fix_suggestion": "Arrêter le service utilisant le port 3000 ou modifier la configuration"
    },
    {
      "severity": "medium",
      "category": "port_conflict",
      "message": "Port 8001 déjà utilisé",
      "fix_suggestion": "Arrêter le service utilisant le port 8001 ou modifier la configuration"
    },
    {
      "severity": "medium",
      "category": "port_conflict",
      "message": "Port 3306 déjà utilisé",
      "fix_suggestion": "Arrêter le service utilisant le port 3306 ou modifier la configuration"
    }
  ],
  "suggestions": [
    "Rendre l'email configurable pour les certificats SSL",
    "Vérifier que le domaine pointe vers le serveur avant certbot",
    "Vérifier manuellement la connexion internet",
    "Paramétrer le domaine à tester",
    "Utiliser un fichier de configuration MySQL ou variable d'environnement",
    "Vérifier la résolution DNS avant le test HTTPS",
    "Documenter les alternatives pour la sécurisation MariaDB",
    "Vérifier que l'URL GitHub est accessible et à jour",
    "Utiliser le script corrigé install-ubuntu-24.04.02-fixed.sh",
    "Installer avec: sudo apt install nginx",
    "Tester sur Ubuntu 24.04 LTS",
    "Arrêter le service utilisant le port 8001 ou modifier la configuration",
    "Installer avec: sudo apt install python3-pip",
    "Vérifier que le système est bien Ubuntu 24.04 avant installation",
    "Vérifier la disponibilité des packages avant installation",
    "Remplacer par une configuration manuelle avec expect ou mysql direct",
    "Arrêter le service utilisant le port 3000 ou modifier la configuration",
    "Utiliser mysql -u root (sans -p) ou configurer le mot de passe",
    "Installer avec: sudo apt install certbot",
    "Rendre le domaine configurable via paramètre ou input utilisateur",
    "Installer avec: sudo apt install supervisor",
    "Arrêter le service utilisant le port 80 ou modifier la configuration",
    "Installer avec: sudo apt install python3-venv",
    "Arrêter le service utilisant le port 3306 ou modifier la configuration"
  ],
  "summary": {
    "total_issues": 8,
    "total_warnings": 15,
    "total_suggestions": 24
  }
}